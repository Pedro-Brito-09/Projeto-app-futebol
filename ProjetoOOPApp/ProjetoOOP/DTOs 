//JogadorDTO.cs 

namespace ProjetoOOP.DTOs
{
    public class JogadorDTO
    {
        public int Id { get; set; }
        public string Nome { get; set; }
        public int Idade { get; set; }
        public string Posicao { get; set; }

        // Converter de Model para DTO
        public static JogadorDTO FromModel(Jogador model)
        {
            return new JogadorDTO
            {
                Id = model.GetId(),
                Nome = model.GetNome(),
                Idade = model.GetIdade(),
                Posicao = model.GetPosicao()
            };
        }

        // Converter de DTO para Model
        public Jogador ToModel()
        {
            return new Jogador(Nome, Idade, Posicao);
        }
    }
}



//JogoDTO

namespace ProjetoOOP.DTOs
{
    public class JogadorDTO
    {
        public int Id { get; set; }
        public string Nome { get; set; }
        public int Idade { get; set; }
        public string Posicao { get; set; }

        public static JogadorDTO FromModel(Models.Jogador model)
        {
            return new JogadorDTO
            {
                Id = model.GetId(),
                Nome = model.GetNome(),
                Idade = model.GetIdade(),
                Posicao = model.GetPosicao()
            };
        }

        public Models.Jogador ToModel()
        {
            return new Models.Jogador(Nome, Idade, Posicao);
        }
    }
}



//TimeDTO.cs

namespace ProjetoOOP.DTOs
{
    public class TimeDTO
    {
        public string Nome { get; set; }
        public List<JogadorDTO> Jogadores { get; set; }

        public static TimeDTO FromModel(Models.Time time)
        {
            // Para simplicidade, assumindo que a classe Time tem uma lista de jogadores
            var jogadoresDTO = time.GetType().GetField("jogadores", System.Reflection.BindingFlags.NonPublic | System.Reflection.BindingFlags.Instance)
                .GetValue(time) as List<Models.Jogador>;

            return new TimeDTO
            {
                Nome = time.GetNome(),
                Jogadores = jogadoresDTO?.Select(j => JogadorDTO.FromModel(j)).ToList() ?? new List<JogadorDTO>()
            };
        }

        public Models.Time ToModel()
        {
            // Como o modelo Time n√£o possui construtor com jogadores, devemos criar e adicionar os jogadores posteriormente
            var time = new Models.Time(Nome);
            if (Jogadores != null)
            {
                foreach (var jogadorDTO in Jogadores)
                {
                    var jogador = jogadorDTO.ToModel();
                    time.AddJogador(jogador);
                }
            }
            return time;
        }
    }
}